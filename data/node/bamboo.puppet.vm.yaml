---

# Variables
variables:
  - &enable_firewall true

profile::database_services::mysql::mysql_server_override_data:
  override_options:
    'mysqld':
      'bind-address': '0.0.0.0'
      'innodb_log_file_size': '64MB'
      'log-error': ~

profile::bamboo_server::enable_firewall: *enable_firewall
profile::bamboo_server::manage_db_settings: true
profile::bamboo_server::db_type: 'mysql'
profile::bamboo_server::bamboo_verison: '6.5.1'
profile::bamboo_server::db_password: 'password123'
profile::bamboo_server::enable_firewall: *enable_firewall
profile::bamboo_server::firewall_rules:
  '010 Bamboo Port 8085':
    dport: '8085'
  '010 Bamboo SSL Port 8443':
    dport: '8443'
profile::bamboo_server::firewall_rule_defaults:
  proto: 'tcp'
  action: 'accept'
profile::bamboo_server::bamboo_app_dir: '/var/atlassian/application-data/bamboo/'
profile::bamboo_server::db_type: 'mysql'
profile::bamboo_server::db_password: >
  ENC[PKCS7,MIIBeQYJKoZIhvcNAQcDoIIBajCCAWYCAQAxggEhMIIBHQIBADAFMAACAQEw
  DQYJKoZIhvcNAQEBBQAEggEAQ9eNIMTW/aAJTq99AUjXQrer122d+bneNJrN
  aTiKU8NHz4udLPCdiatz0+E6zP5dJNwBB7V3mBMb/hqufT1IC2g30wOT/I+O
  Fu+aQD0i0HaH7oP+8N0tu1XKiXjIpxSqO4UC9LHt40J11xktqdtch3lW7WwG
  y55BeCknc8OlHSUiXyKbxZ9G+LUIr8vVuzfj/cwVLGC6ZMi30Ya8EnxiUDcW
  F/cvGiWEvSd0gWTBwq6RFTmI3MjU+COEqfHAo1dP70p//W9nHswAyauFWvvM
  jGCCIBfHR3QoZ5Qy+2gSRzNqv+y3v7b5GExlqwA7YqcHabR7xwCHug74mkK/
  3PaNPjA8BgkqhkiG9w0BBwEwHQYJYIZIAWUDBAEqBBCl1zIHRlLu8zCHQdgq
  ULi8gBDxGxfs6NFhbKtVP6H4ZZM4]
profile::bamboo_server::private_key: >
  ENC[PKCS7,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
  QbbY2UX9xSb7UMKPGvwEvM0=]
profile::bamboo_server::cert: |
  -----BEGIN CERTIFICATE-----
  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
  -----END CERTIFICATE-----
profile::bamboo_server::cacert: |
  -----BEGIN CERTIFICATE-----
  MIIFljCCA36gAwIBAgIJAPgjt937aEaGMA0GCSqGSIb3DQEBCwUAMFgxCzAJBgNV
  BAYTAkFVMQwwCgYDVQQIDANOU1cxDDAKBgNVBAcMA1NZRDEPMA0GA1UECgwGUHVw
  cGV0MQswCQYDVQQLDAJDUzEPMA0GA1UEAwwGUHVwcGV0MB4XDTE4MDgwNjA1MjU1
  MVoXDTM4MDgwMTA1MjU1MVowWDELMAkGA1UEBhMCQVUxDDAKBgNVBAgMA05TVzEM
  MAoGA1UEBwwDU1lEMQ8wDQYDVQQKDAZQdXBwZXQxCzAJBgNVBAsMAkNTMQ8wDQYD
  VQQDDAZQdXBwZXQwggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIKAoICAQCi463s
  BQT1wVRnwhYOb/oEhL/lsLnkpXB1JqBj0jMDNr453DgF3y64UM/xzvUzo57Qwq/i
  umy2nMwHN0G2HGWHVoDGJUMVnP9hPuGM9fGydQV2DJVsItjXhVW0is9rjDuiS3fH
  NVuBCwPCorRu0Fdz7T2L5DcNLURq9sqrxV9VvFCWlBI6L35ga7T1MGNvbJOe1GKO
  g+UzYnmxLXJIjf5vso6YSF5m7SQoej93DP7jzkswebOLkiHvB1kLGsjIwRE3MKM6
  0BI+CeQhgGE8ggo2IUoJs1sdta2cplNhhTMcTZah8T3D/I0g3AGHfb1k2mRipAui
  Pa1Ww03iwfLvNioAMZV1oD+J1Hv0Ljl+VE4k7hpWnzOtjP3W0cvCYDOEhLx3ryzs
  takYHcHUWV0cx9LvpZZWlKWMi6XpSfJJz02Nflh2GGe9GAi8U8nUzJNgz3kQQ882
  axHJ/NaNtfxvNHCyg/1GY438ZBYi/yL2tezXZIlMjlaBvoseGJIW0EH2geiyNUJb
  +qru3G4pjv370g7Vn2Csz977ePGswMgRBAVKw/G4s198f/eqSLafy7ZasT3ua/sE
  U5y5K2bgItNrdTIyqvOlIl6qmZcscgZvQbHZPX6+fSzH3VcJuD19Y0KjpegbZi6K
  PAsB1WwebBJJQupiRzqD9X4Awrx9pHjljqOC9QIDAQABo2MwYTAdBgNVHQ4EFgQU
  I61i2y6LHfuptz147fJLksjiAbowHwYDVR0jBBgwFoAUI61i2y6LHfuptz147fJL
  ksjiAbowDwYDVR0TAQH/BAUwAwEB/zAOBgNVHQ8BAf8EBAMCAYYwDQYJKoZIhvcN
  AQELBQADggIBACV6umcb0iTmENGwAjC6/eSie+lq0JAkiZdO6zpEsF6Y1aW9lOCx
  QH0/NCuwPyxYnLGSrhStQ7sh36sEtgr+LuPP5VfICMVVyGnxQHNBIG4y1vozK6am
  gXI7X+jyCFMoy5B8h+hUTEjyZTt7UCd7GuDx3RuJ7gAio1zZOj9IDmxzjl2S0TJG
  llEgTMw4a6ZE3hSjTj9Cz4h+3xuU/zUic6vctPEdoVvCQDf7VS+2irS1l0Q2DTLI
  8wSpFfpKHZ5CO3VwokMLTR1ECSS/w6Xpuznl7zPYWDGIT15h1rueFAtZiFSFZpa1
  236oM9mf7/CmqY5XzdPG5X0RS7dpE2V/tF9dYZVlvXPFQOtFqQ7ri3a6dGFSFi2u
  vjH5ndlAVGNe3saVaaYCwCwdYApW2pibTPNFcDQ7dxYx62TaL5PTLlo6HymPfCfx
  wl6TmjWuNLCs/dGM37rxPb7kZPpi0JiifubgBgBB2aHKd8Sw9SioQfXQ1yU1ISuV
  l54Kyg3MIVEjDmdHTsDyRBkAVKn/XFUpddCr8tJomzyqj40WsF9SLnag1oW+J0q7
  rGeQ+iQOKm08w47EJfNqlv+lYz+JXBOWjvwIxTDfxSwGa9/zgzfC7gVswd6J5F1n
  P2HFISsIsna8YafGxyavB4nZZrVRTXfCqT2SmBRnrzZgdJnQxoU42dxN
  -----END CERTIFICATE-----
